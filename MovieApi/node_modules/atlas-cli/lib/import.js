import gitbookImporter from './importers/gitbook';

import ApiClient from './client';

import {
  loadConfiguration,
} from './config';

const importTools = async (options) => {
  const config = await loadConfiguration();
  const client = new ApiClient({
    baseUrl: config.apiBaseUrl,
    token: config.authToken,
  });

  if (options.gitbook) {
    await gitbookImporter(client);
  } else {
    // default to gitbook
    await gitbookImporter(client);
  }
};

export default importTools;
